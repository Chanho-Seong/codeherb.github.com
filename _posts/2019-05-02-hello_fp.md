---
title: 함수형 프로그래밍 시작하기 (2)
tags: FP
key: post-hello-fp-2
---

이전 아티클을 통해 함수형 프로그래밍에서의 중요 성질 중 하나인 불변성에 대해 알아보았습니다.<br>
불변성은 함수형 프로그래밍 전반을 관통하는 핵심입니다.<br>
이 성질을 만족하기 위한 여러장치로 빼곡한 것이 함수형 프로그래밍 세상입니다.<br>
하지만 변하지 않는 것 만으로 프로그램을 만들 순 없습니다.<br>
불변성을 만족하며 동적인 것을 표현하는 방법에 대해 알아봅시다.<br>

---

### 순수 함수
함수형 언어에서의 함수는 명령형 언어에서의 프로시저나, OOP에서의 메소드와는 차이가 있습니다.<br> 
함수형 세계의 함수는 외부 세계에 어떤 영향을 주지도 받지도 않으며 하나의 입력에 하나의 출력을 가지는 표현 모델입니다.<br>
함수 본문의 계산 결과로 함수를 치환 가능합니다.<br>
```
> something a = a + 1
> another x = x * (something x)
> another 1
// 1 * (something 1)
// 1 * (1 + 1)
// 1 * 2
```
여기서 무엇보다 중요한 것은 외부 세계에 어떤 영향을 주고받지 않는다는 점이다.<br>
즉 함수의 계산 결과가 외부의 다른 계산 결과에 영향을 주지 않는다는 것이다.<br>
OOP의 메소드와 차이가 나는 부분이라고 할 수 있습니다.<br>
<br>
이처럼 함수가 외부 세계에 부수 효과 없이 주어진 인자에 대해 항상 같은 값을 <br>
돌려주어 치환 가능한 상태를 일컬어 '참조 투명하다'고 합니다.<br>
이 참조 투명성(referential transparency)은 함수가 수행하는 모든 것이<br>
함수가 반환하는 값으로 대표된다는 불변(invariant) 조건을 강제하게 됩니다.<br>
함수형 프로그래밍의 핵심 요소 중딩 하나인 이 불변성은 말 그대로 변하지 않음을 의미하며, <br>
이로 인해 함수형 프로그래밍에서는 '변수에 값을 대입한다'는 개념이 없다는 점만 <br>
알아두고 다음에 다시 알아보도록 하겠습니다.<br>
<br>
참조 투명성은 우리가 프로그램을 대수 방정식을 풀듯 함수를 다룰수 있게 합니다.<br>
즉 함수를 전개하거나 치환 혹은 환원 가능하며 심지어 합성 가능함을 의미합니다.<br>
엄밀히 표현하면 하나의 함수는 작은 함수를 포함할 수 있으며, 이런 함수의 포함 관계를 '함수 합성'이라고 합니다.<br>
```
> other = f . g // 하스켈에서의 합성
> other = f compose g // 스칼라에서의 합성
```
합성된 함수는 인자를 제공하여 실행가능 하며, 함수형 프로그래밍에서 연산을 지연시키기 위한 방법의 하나입니다.<br>
함수 합성은 우리가 숫자 3에 대해 1+1+1 이나 1+2 를 사용할 수 있는 것과 같은 이치를 방정식으로 까지 확장한 개념으로, <br>
불변을 만족하는 프로그램을 작성하는 실마리를 제공하므로 익숙해질 때까지 사용해보고 그 쓰임을 고민해보자.<br>
계속...<br>
<br>
#### 연습문제1
스칼라나 하스켈에서 함수 합성을 사용해보고 합성된 함수를 실행 해보자.<br>
그리고 합성된 함수 또한 입력에 대해 출력을 가지는 순수함수임을 확인해보자.<br>
<br>
#### 연습문제2
임의의 언어를 선택하여 (일급함수를 지원하는 언어일 것)<br>
아래의 함수 시그니쳐를 만족하는 합성 함수를 구현해보자.<br>
```
Function<A,B> compose(Function<B,C> f, Function<A, B> g)
fun compose<A, B, C> (f: B -> C, g: A -> B): A -> C
```
